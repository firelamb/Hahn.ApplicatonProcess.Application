define(["require", "exports", "aurelia-pal-nodejs", "aurelia-dependency-injection", "aurelia-templating-binding", "../src/aurelia-validation", "assert", "aurelia-polyfills"], function (require, exports, aurelia_pal_nodejs_1, aurelia_dependency_injection_1, aurelia_templating_binding_1, aurelia_validation_1, assert) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    aurelia_pal_nodejs_1.initialize();
    var container = new aurelia_dependency_injection_1.Container();
    aurelia_templating_binding_1.configure({ container: container });
    aurelia_validation_1.configure({ container: container });
    var rules = aurelia_validation_1.ValidationRules
        .ensure('firstName').required()
        .ensure('lastName').required()
        .rules;
    var validator = container.get(aurelia_validation_1.Validator);
    validator.validateObject({ firstName: '', lastName: 'test' }, rules)
        .then(function (result) {
        assert(result.length === 2);
        assert(result[0].propertyName === 'firstName');
        assert(result[0].valid === false);
        assert(result[1].propertyName === 'lastName');
        assert(result[1].valid === true);
    });
    validator.validateProperty({ firstName: '', lastName: 'test' }, 'firstName', rules)
        .then(function (result) {
        assert(result.length === 1);
        assert(result[0].propertyName === 'firstName');
        assert(result[0].valid === false);
    });
    validator.validateProperty({ firstName: '', lastName: 'test' }, 'lastName', rules)
        .then(function (result) {
        assert(result.length === 1);
        assert(result[0].propertyName === 'lastName');
        assert(result[0].valid === true);
    });
});
