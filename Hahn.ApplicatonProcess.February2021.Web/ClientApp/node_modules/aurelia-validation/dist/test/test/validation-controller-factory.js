define(["require", "exports", "aurelia-dependency-injection", "../src/aurelia-validation"], function (require, exports, aurelia_dependency_injection_1, aurelia_validation_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    describe('ValidationControllerFactory', function () {
        it('createForCurrentScope', function () {
            var container = new aurelia_dependency_injection_1.Container();
            var standardValidator = {};
            container.registerInstance(aurelia_validation_1.Validator, standardValidator);
            var config = new aurelia_validation_1.GlobalValidationConfiguration();
            config.defaultValidationTrigger(aurelia_validation_1.validateTrigger.manual);
            container.registerInstance(aurelia_validation_1.GlobalValidationConfiguration, config);
            var childContainer = container.createChild();
            var factory = childContainer.get(aurelia_validation_1.ValidationControllerFactory);
            var controller = factory.createForCurrentScope();
            expect(controller['validator']).toBe(standardValidator);
            expect(controller.validateTrigger).toBe(aurelia_validation_1.validateTrigger.manual);
            expect(container.get(aurelia_dependency_injection_1.Optional.of(aurelia_validation_1.ValidationController))).toBe(null);
            expect(childContainer.get(aurelia_dependency_injection_1.Optional.of(aurelia_validation_1.ValidationController))).toBe(controller);
            var customValidator = {};
            expect(factory.createForCurrentScope(customValidator)['validator']).toBe(customValidator);
        });
    });
});
